{%- set iface = example_interface -%}
# {{ item['item']['item'] }} - BeeGFS HA Resource Group

# This is a generic template for BeeGFS HA resource groups. You are seeing this for a resource due to not provided a beegfs service or an invalid one during the
#   create_inventory_structure.yml playbook runtime. Review all comments and update with all expected values. All capitalized words in angled brackets must be updated.

port: <SERVICE_PORT>                        # BeeGFS HA resource service port. Each BeeGFS HA service resource must have a unique port number. The default BeeGFS
                                            #    service port is 8008 for management, 8005 for metadata, and 8012 for storage.

floating_ips:                               # List of floating IP definitions in the form host_interface:ip_address/cidr_subnet_mask (i.e. eth0:192.168.2.102/24).
  - <INTERFACE:ADDRESS/CIDR_SUBNET_MASK>     #   This information is used to communicate with the BeeGFS management service. Therefore, these definitions must
                                            #   be on the same subnet as beegfs_ha_mgmtd_floating_ip value in group_vars/ha_cluster.yml. When defining a
                                            #   management service, be sure that the addresses correspond to beegfs_ha_mgmtd_floating_ip. Any unusable definitions
                                            #   will be ignored which is specially useful when the definitions differ based on the host.

beegfs_service: <BEEGFS_SERIVCE>            # Type of BeeGFS service the HA resource group will manage. Choices: management, metadata, storage.

beegfs_targets:                             # Dictionary of E-Series storage systems that contain a list of storage pool definitions.
  {{ storage_target_hosts[0] }}:            # E-Series storage target. Change this to any desired E-Series storage target found in
                                            #   eseries_storage_systems inventory group. Choices: ({% for storage_host_target in storage_target_hosts %}{{ storage_host_target }}{% if not loop.last %},{% endif %}{% endfor %}).

    eseries_storage_pool_configuration:     # Storage pool and volume names are generated by the beegfs_ha_7_1 role. For more options, see examples/beegfs_ha_7_1/README.md.

      - #name: mgmt_meta_vg                 # The management service does not require much storage. For this reason the storage pool's name is specified here to
                                            #   provide a common pool of drives to be used between this metadata services and the management service. If name
                                            #   is changed, differs from the management storage pool's name or removed a common storage pool will not be created.

        raid_level: <RAID_LEVEL>            # Storage pool/volume group RAID type. Choices: raid0, raid1, raid5, raid6, raidDiskPool
                                            #   RAID 1 mirrors the data between two drives which is the recommended storage type for management and metadata
                                            #   services. RAID 6 stripes the data between across all drives with two parity stripes to allow for recovery of
                                            #   multiple drive failures which is the recommended storage type for BeeGFS services. If this storage pool is shared
                                            #   with other services this value must be the same on all definitions.

        criteria_drive_count: <DRIVE_COUNT> # Total drive count for the storage pool. RAID 1 requires even number of drives. If this storage pool is shared with
                                            #   other services this value must be the same on all definitions.
        volumes:                            # BeeGFS metadata service requires only one volume.
          - size: <VOLUME_SIZE_MB>          # Size of the BeeGFS metadata service volume specified in gibibytes.
